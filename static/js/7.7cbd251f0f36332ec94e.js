webpackJsonp([7],{"2EvJ":function(t,e){},KydA:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("R10e"),n=i.n(s),a={data:function(){return{headlineObj:{tit:"倒数计时器",text:"事件进行时请勿刷新页面，时分秒请输入正整数，最多支持72小时"},isShine:!1,audioUrl:n.a,timeObj:{hour:0,minute:0,second:0,pCheckNum:-1,tit:"",preinstall:[{text:"1分",val:1},{text:"5分",val:5},{text:"10分",val:10},{text:"1小时",val:60}]},timeList:[]}},watch:{isShine:function(t){var e=this;if(t)var i=document.title,s=setInterval(function(){var t=document.title;0==/新/.test(t)?document.title="【你有新消息】":document.title="【　　　　　】",0==e.isShine&&(document.title=i,clearInterval(s))},500)}},created:function(){},mounted:function(){var t=this;document.onkeydown=function(e){13==e.which&&t.addList()},window.onfocus=function(){t.isShine=!1},document.onfocusin=function(){t.isShine=!1}},methods:{playMusic:function(){this.$refs.audio.play()},formatNum:function(t){return(t=parseInt(t))<10?"0"+t:""+t},addList:function(){var t=this,e=0,i=0,s=0,n=""==this.timeObj.tit?"暂无备注":this.timeObj.tit;if(this.timeObj.pCheckNum>-1)i=this.timeObj.preinstall[parseInt(this.timeObj.pCheckNum)].val;else if(void 0==this.timeObj.hour&&(this.timeObj.hour=0),void 0==this.timeObj.minute&&(this.timeObj.minute=0),void 0==this.timeObj.second&&(this.timeObj.second=0),e=this.timeObj.hour,i=this.timeObj.minute,s=this.timeObj.second,0==e&&0==i&&0==s)return void this.$message({message:"时分秒中最少填写一个",type:"error",center:!0});if(i+=parseInt(s/60),s%=60,e+=parseInt(i/60),i%=60,e>72||72==e&&(0!=i||0!=s))this.$message({message:"总时长不能超过72小时",type:"error",center:!0});else{var a="";0==e&&0==i||0==e&&1==i&&0==s?a="bg_r":(0==e&&10==i&&0==s||0==e&&i<10)&&(a="bg_o"),this.timeList.push({tit:n,time:this.formatNum(e)+":"+this.formatNum(i)+":"+this.formatNum(s),fontClass:a,btnText:"取消",isHide:!1}),this.timeCount(e,i,s,this.timeList[this.timeList.length-1],function(e,i,s,n){0==e&&10==i&&0==s&&(n.fontClass="bg_o"),0==e&&1==i&&0==s&&(n.fontClass="bg_r"),n.time=t.formatNum(e)+":"+t.formatNum(i)+":"+t.formatNum(s)}),this.reset()}},timeCount:function(t,e,i,s,n){var a=this;t=parseInt(t),e=parseInt(e),i=parseInt(i);var o=setInterval(function(){return i>0?i--:e>0?(e--,i=59):t>0&&(t--,e=59,i=59),s.isHide?(clearInterval(o),void a.timeList.splice(a.timeList.indexOf(s),1)):0==t&&0==e&&0==i?(s.time="时间到",s.btnText="关闭",a.$refs.audio.play(),a.isShine=!0,void clearInterval(o)):void n(t,e,i,s)},1e3)},reset:function(){this.timeObj.tit="",this.timeObj.hour=this.timeObj.minute=this.timeObj.second=0,this.timeObj.pCheckNum=-1},tableRowClassName:function(t){var e=t.row;t.rowIndex;return e.isHide?"row_hide":""},delList:function(t){"关闭"==this.timeList[t].btnText?this.timeList.splice(t,1):this.timeList[t].isHide=!0}}},o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"wid_size content_bg"},[i("my-headline",{attrs:{headlineObj:t.headlineObj}}),t._v(" "),i("div",{staticClass:"intro"},[i("p",[t._v("\n        提示音试听（若无法播放请尽快反馈）"),i("i",{staticClass:"el-icon-caret-right",on:{click:t.playMusic}})]),t._v(" "),i("audio",{ref:"audio",attrs:{src:t.audioUrl,preload:""}})]),t._v(" "),i("el-row",[i("el-col",{attrs:{span:6}},[i("div",{staticClass:"grid-content"},[t._v("距离现在：")])]),t._v(" "),i("el-col",{attrs:{span:18,align:"left"}},[i("div",{staticClass:"grid-content"},[i("el-radio",{attrs:{label:-1},model:{value:t.timeObj.pCheckNum,callback:function(e){t.$set(t.timeObj,"pCheckNum",e)},expression:"timeObj.pCheckNum"}},[i("el-input-number",{attrs:{controls:!1,size:"mini",placeholder:"0",min:0,max:72,step:1,"step-strictly":""},model:{value:t.timeObj.hour,callback:function(e){t.$set(t.timeObj,"hour",e)},expression:"timeObj.hour"}}),t._v(" "),i("font",[t._v("时")]),t._v(" "),i("el-input-number",{attrs:{controls:!1,size:"mini",placeholder:"0",min:0,max:4320,step:1,"step-strictly":""},model:{value:t.timeObj.minute,callback:function(e){t.$set(t.timeObj,"minute",e)},expression:"timeObj.minute"}}),t._v(" "),i("font",[t._v("分")]),t._v(" "),i("el-input-number",{attrs:{controls:!1,size:"mini",placeholder:"0",min:0,max:9e3,step:1,"step-strictly":""},model:{value:t.timeObj.second,callback:function(e){t.$set(t.timeObj,"second",e)},expression:"timeObj.second"}}),t._v(" "),i("font",[t._v("秒")])],1)],1)]),t._v(" "),i("el-col",{attrs:{span:6}},[i("div",{staticClass:"grid-content"},[t._v(" ")])]),t._v(" "),i("el-col",{attrs:{span:18,align:"left"}},[i("div",{staticClass:"grid-content"},t._l(t.timeObj.preinstall,function(e,s){return i("el-radio",{key:s,attrs:{label:s},model:{value:t.timeObj.pCheckNum,callback:function(e){t.$set(t.timeObj,"pCheckNum",e)},expression:"timeObj.pCheckNum"}},[i("font",[t._v(t._s(e.text))])],1)}),1)]),t._v(" "),i("el-col",{attrs:{span:6}},[i("div",{staticClass:"grid-content"},[t._v("事件备注：")])]),t._v(" "),i("el-col",{attrs:{span:18,align:"left"}},[i("div",{staticClass:"grid-content"},[i("el-input",{attrs:{size:"small",placeholder:"请输入事件备注（选填）"},model:{value:t.timeObj.tit,callback:function(e){t.$set(t.timeObj,"tit",e)},expression:"timeObj.tit"}})],1)]),t._v(" "),i("el-col",{attrs:{span:24}},[i("div",{staticClass:"grid-content"},[i("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.addList}},[t._v("开始")]),t._v(" "),i("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.reset}},[t._v("重置")])],1)])],1),t._v(" "),i("el-table",{directives:[{name:"show",rawName:"v-show",value:t.timeList.length>0,expression:"timeList.length > 0"}],attrs:{data:t.timeList,stripe:"","show-header":!1,"row-class-name":t.tableRowClassName}},[i("el-table-column",{attrs:{align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{attrs:{title:e.row.tit}},[t._v(t._s(e.row.tit))])]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("font",{class:e.row.fontClass},[t._v(t._s(e.row.time))])]}}])}),t._v(" "),i("el-table-column",{attrs:{width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"关闭"==e.row.btnText?"danger":"primary",size:"medium"},on:{click:function(i){return t.delList(e.$index)}}},[t._v(t._s(e.row.btnText))])]}}])})],1)],1)])},staticRenderFns:[]};var r=i("VU/8")(a,o,!1,function(t){i("2EvJ")},"data-v-332dcfb4",null);e.default=r.exports},R10e:function(t,e,i){t.exports=i.p+"static/media/ring.2a06953.mp3"}});