webpackJsonp([4],{"07cV":function(e,t,s){var i={"./0.png":"f9/P","./0_1366_768.png":"DIxY","./0_1440_900.png":"/8DN","./0_1920_1080.png":"xzfz","./1.png":"QsWs","./1_1366_768.png":"4qNp","./1_1440_900.png":"qu+A","./1_1920_1080.png":"v0Bf","./2.png":"tLcV","./2_1366_768.png":"NOz9","./2_1440_900.png":"OQQU","./2_1920_1080.png":"Gecp"};function a(e){return s(n(e))}function n(e){var t=i[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}a.keys=function(){return Object.keys(i)},a.resolve=n,e.exports=a,a.id="07cV"},"7gO2":function(e,t){},zJdl:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("+Ovs"),a=s.n(i),n=s("lsDK"),r=s.n(n),c={data:function(){return{tit:"模板壁纸在线制作",sizeList:[{wid:"1920",hei:"1080",exampleImg:a.a},{wid:"1440",hei:"900",exampleImg:r.a},{wid:"1366",hei:"768",exampleImg:a.a}],curSizeIndex:0,tmplNum:3,curTmplIndex:0,stepList:["选择壁纸尺寸","选择心仪模板","上传本地图片","下载合成壁纸"],curImgSrc:"",infoText:"为保证最好的合成效果，请按照您选择的模板尺寸上传图片",isLoad:!1}},created:function(){this.curImgSrc=this.sizeList[0].exampleImg},mounted:function(){this.updateCanvasImg()},methods:{changeSize:function(e){this.curSizeIndex=e,this.updateCanvasImg()},changeTmpl:function(e){this.curTmplIndex=e,this.updateCanvasImg()},handleUploadBtn:function(){document.getElementById("imgFile").click()},uploadImg:function(){var e=this,t=document.getElementById("imgFile").files[0],s=new FileReader;s.onload=function(t){e.curImgSrc=t.target.result,e.updateCanvasImg()},s.onerror=function(t){e.$message({message:"图片上传失败,请检查后重新上传~",type:"error",center:!0})},s.readAsDataURL(t)},updateCanvasImg:function(){var e=this;this.isLoad=!0;var t=document.getElementById("imgCanvas").getContext("2d"),i=this.sizeList[this.curSizeIndex].wid,a=this.sizeList[this.curSizeIndex].hei,n=new Image;n.src=this.curImgSrc,n.onload=function(){t.drawImage(n,0,0,i,a);var r=new Image;r.src=s("07cV")("./"+e.curTmplIndex+"_"+i+"_"+a+".png"),r.onload=function(){t.drawImage(r,0,0,i,a),e.isLoad=!1}}},downloadImg:function(){var e=this;this.isLoad=!0,setTimeout(function(){var t=document.createElement("a");t.href=document.getElementById("imgCanvas").toDataURL(),t.download="SHIKKYA-模板壁纸-"+e.getCurTime()+".png",t.click(),e.isLoad=!1},3e3)},getCurTime:function(){var e=new Date,t=e.getFullYear(),s=e.getMonth()+1,i=e.getDate(),a=e.getHours(),n=e.getMinutes(),r=t+"";return r+=s<10?"0"+s:""+s,r+=i<10?"0"+i:""+i,r+=a<10?"0"+a:""+a,r+=n<10?"0"+n:""+n}}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("my-backtop"),e._v(" "),i("el-container",[i("el-header",[i("div",{staticClass:"wid_size"},[i("img",{staticClass:"logo",attrs:{src:s("1Atw")}}),e._v(" "),i("div",{staticClass:"header_right fr"},[i("span",[e._v(e._s(e.tit))]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.$router.go(-1)}}},[e._v("返回首页")])],1)])]),e._v(" "),i("el-main",[i("div",{staticClass:"wid_size"},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{xs:24,sm:24,md:6,lg:6,xl:6}},[i("div",{staticClass:"left"},[i("my-title",{attrs:{title:"选择尺寸"}}),e._v(" "),i("el-row",{staticClass:"size_list"},e._l(e.sizeList,function(t,s){return i("el-col",{key:s,attrs:{xs:8,sm:8,md:24,lg:24,xl:24}},[i("div",{staticClass:"size_li",class:{active:e.curSizeIndex==s},on:{click:function(t){return e.changeSize(s)}}},[i("span",[e._v(e._s(t.wid)+" × "+e._s(t.hei))]),e._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:e.curSizeIndex==s,expression:"curSizeIndex == index"}],staticClass:"el-icon-success fr"})])])}),1),e._v(" "),i("my-title",{attrs:{title:"选择模板"}}),e._v(" "),i("el-row",{staticClass:"tmpl_list"},e._l(e.tmplNum,function(t,a){return i("el-col",{key:a,attrs:{xs:8,sm:8,md:24,lg:24,xl:24}},[i("div",{staticClass:"tmpl_li",class:{active:e.curTmplIndex==a},on:{click:function(t){return e.changeTmpl(a)}}},[i("img",{attrs:{src:s("07cV")("./"+a+".png")}}),e._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:e.curTmplIndex==a,expression:"curTmplIndex == index"}],staticClass:"el-icon-success fr"})])])}),1)],1)]),e._v(" "),i("el-col",{attrs:{xs:24,sm:24,md:18,lg:18,xl:18}},[i("div",{staticClass:"right"},[i("div",{staticClass:"step"},[i("div"),e._v(" "),i("ul",e._l(e.stepList,function(t,s){return i("li",{key:s},[i("span",[e._v("0"+e._s(s+1))]),e._v(" "),i("p",[e._v(e._s(t))])])}),0)]),e._v(" "),i("div",{staticClass:"view"},[i("img",{staticClass:"tmpl",attrs:{src:s("07cV")("./"+e.curTmplIndex+"_"+e.sizeList[e.curSizeIndex].wid+"_"+e.sizeList[e.curSizeIndex].hei+".png")}}),e._v(" "),i("img",{staticClass:"pic",attrs:{src:e.curImgSrc}}),e._v(" "),i("img",{directives:[{name:"show",rawName:"v-show",value:e.isLoad,expression:"isLoad"}],staticClass:"load",attrs:{src:s("W/AV")}})]),e._v(" "),i("div",{staticClass:"btn_box"},[i("p",[e._v(e._s(e.infoText))]),e._v(" "),i("el-button",{staticClass:"upload_btn",attrs:{disabled:!!e.isLoad},on:{click:e.handleUploadBtn}},[e.isLoad?[e._v("图片处理中...")]:[e._v("上传本地图片")]],2),e._v(" "),i("el-button",{attrs:{type:"primary",disabled:!!e.isLoad},on:{click:e.downloadImg}},[e.isLoad?[e._v("图片处理中...")]:[e._v("下载合成壁纸")]],2),e._v(" "),i("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{type:"file",name:"imgfile",id:"imgFile"},on:{change:e.uploadImg}})],1),e._v(" "),i("canvas",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"imgCanvas",width:e.sizeList[e.curSizeIndex].wid,height:e.sizeList[e.curSizeIndex].hei}})])])],1)],1)]),e._v(" "),i("my-footer")],1)],1)},staticRenderFns:[]};var o=s("VU/8")(c,l,!1,function(e){s("7gO2")},"data-v-78a2304c",null);t.default=o.exports}});